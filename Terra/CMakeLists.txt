option(terra_use_glfw OFF)

add_library(terra STATIC)
target_include_directories(terra PUBLIC include PRIVATE src)
target_precompile_headers(terra PRIVATE include/terra/precomp.h)

if(terra_use_glfw STREQUAL "ON")
    add_subdirectory(extern/glfw)
    target_link_libraries(terra PUBLIC glfw)
    target_compile_definitions(terra PUBLIC TERRA_USE_GLFW)
    target_sources(terra PRIVATE src/terra/window/glfw/window_glfw.cpp)
    if(UNIX)
        target_sources(terra PRIVATE src/terra/window/glfw/window_glfw_linux.cpp)
    elseif (WIN32)
        target_sources(terra PRIVATE src/terra/window/glfw/window_glfw_win32.cpp)
    endif()
endif ()